# Лабораторная №2

### Практика, первая часть.

#### Цель:

- Научится работе с Spring security
- Научится работе с тестами

#### Теория:

- Spring security   
  https://www.baeldung.com/spring-security-basic-authentication     
  https://betacode.net/11649/secure-spring-boot-restful-service-using-basic-authentication
- Тесты     
  https://sysout.ru/testirovanie-kontrollerov-s-pomoshhyu-mockmvc/      
  https://www.baeldung.com/integration-testing-in-spring
  

#### Практические задачи:

0. Используем наработки с лабораторной №1
1. Подключить к проекту Spring-security, закрыть им все имеющиеся эндпоинты
2. Реализовать эндпоинты /login, /register. Открыть к ним доступ через security
3. В методе /register - реализовать регистрацию пользователя, при регистрации можно задать ФИО, логин(емейл), пароль,
   остальные поля заполняются автоматически, роль по умолчанию задается "пользователь"
4. В методе /login - необходимо проверить логин/пароль пользователя и в ответ отдать его роль (в след. части расширим функционал)
5. Реализовать метод PATCH /user/role. Разрешить пользователям с ролью "администратор", менять роли пользователей. 
   Реализовать смену роли пользователя.
6. Написать тесты на /register и /login, тесты должны включать как положительные, так и отрицательные сценарии